## Homework 2

### Setup
The `linserv1.cims.nyu.edu` host was used for running all the experiments. The details of the processor are as follows:

```
[vk2115@linserv1 nyu-hpc23-homework2]$ lscpu
Architecture:          x86_64
CPU op-mode(s):        32-bit, 64-bit
Byte Order:            Little Endian
CPU(s):                64
On-line CPU(s) list:   0-63
Thread(s) per core:    2
Core(s) per socket:    8
Socket(s):             4
NUMA node(s):          8
Vendor ID:             AuthenticAMD
CPU family:            21
Model:                 1
Model name:            AMD Opteron(TM) Processor 6272
Stepping:              2
CPU MHz:               2099.939
BogoMIPS:              4199.87
Virtualization:        AMD-V
L1d cache:             16K
L1i cache:             64K
L2 cache:              2048K
L3 cache:              6144K
NUMA node0 CPU(s):     0-7
NUMA node1 CPU(s):     8-15
NUMA node2 CPU(s):     32-39
NUMA node3 CPU(s):     40-47
NUMA node4 CPU(s):     48-55
NUMA node5 CPU(s):     56-63
NUMA node6 CPU(s):     16-23
NUMA node7 CPU(s):     24-31
Flags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp lm constant_tsc art rep_good nopl nonstop_tsc extd_apicid amd_dcm aperfmperf pni pclmulqdq monitor ssse3 cx16 sse4_1 sse4_2 popcnt aes xsave avx lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs xop skinit wdt fma4 nodeid_msr topoext perfctr_core perfctr_nb cpb hw_pstate ssbd rsb_ctxsw ibpb vmmcall retpoline_amd arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold
```


### Question 2: Matrix multiplication

Baseline with MMult0 and `BLOCK_SIZE=24`:
```
[vk2115@linserv1 hw2]$ ./MMult1 
 Dimension       Time    Gflop/s       GB/s        Error
        24   0.715211   2.796377  44.742034 0.000000e+00
        72   0.614761   3.254287  52.068589 0.000000e+00
       120   0.706759   2.831267  45.300274 0.000000e+00
       168   0.664997   3.008987  48.143796 0.000000e+00
       216   0.647595   3.112344  49.797504 0.000000e+00
       264   0.633195   3.196441  51.143056 0.000000e+00
       312   0.616575   3.251036  52.016580 0.000000e+00
       360   0.625801   3.280380  52.486073 0.000000e+00
       408   0.643703   3.165311  50.644975 0.000000e+00
       456   0.874102   2.386465  38.183440 0.000000e+00
       504   0.911482   2.247311  35.956983 0.000000e+00
       552   0.989679   2.039407  32.630515 0.000000e+00
       600   1.214594   1.778373  28.453964 0.000000e+00
       648   1.299194   1.675487  26.807793 0.000000e+00
       696   1.204024   1.680134  26.882140 0.000000e+00
       744   1.474454   1.675864  26.813820 0.000000e+00
       792   1.778022   1.676446  26.823138 0.000000e+00
       840   1.415451   1.674955  26.799277 0.000000e+00
       888   1.669664   1.677528  26.840455 0.000000e+00
       936   1.960690   1.672933  26.766925 0.000000e+00
       984   2.280925   1.670838  26.733405 0.000000e+00
      1032   1.402442   1.567416  25.078650 0.000000e+00
      1080   1.706305   1.476538  23.624608 0.000000e+00
      1128   1.966143   1.459964  23.359424 0.000000e+00
      1176   2.235381   1.455125  23.282002 0.000000e+00
      1224   2.533494   1.447619  23.161906 0.000000e+00
      1272   2.858529   1.439955  23.039273 0.000000e+00
      1320   3.204312   1.435546  22.968733 0.000000e+00
      1368   3.578413   1.430862  22.893796 0.000000e+00
      1416   3.978059   1.427409  22.838548 0.000000e+00
      1464   4.431811   1.416029  22.656457 0.000000e+00
      1512   4.878222   1.417176  22.674817 0.000000e+00
      1560   5.388938   1.408966  22.543461 0.000000e+00
      1608   5.926166   1.403183  22.450930 0.000000e+00
      1656   6.503123   1.396655  22.346473 0.000000e+00
      1704   7.083192   1.397043  22.352688 0.000000e+00
      1752   7.689714   1.398692  22.379072 0.000000e+00
      1800   8.358514   1.395463  22.327415 0.000000e+00
      1848   9.081630   1.389863  22.237813 0.000000e+00
      1896   9.800090   1.390961  22.255376 0.000000e+00
      1944  10.592900   1.387088  22.193401 0.000000e+00
      1992  11.418313   1.384510  22.152158 0.000000e+00
```

Tiled version with `BLOCK_SIZE=24`

```
[vk2115@linserv1 hw2]$ ./MMult1 
 Dimension       Time    Gflop/s       GB/s        Error
        24   0.499275   4.005810  64.092956 0.000000e+00
        72   0.534262   3.744620  59.913925 0.000000e+00
       120   0.532775   3.755853  60.093643 0.000000e+00
       168   0.542576   3.687904  59.006469 0.000000e+00
       216   0.541399   3.722833  59.565330 0.000000e+00
       264   0.547884   3.694162  59.106594 0.000000e+00
       312   0.547003   3.664530  58.632486 0.000000e+00
       360   0.560052   3.665486  58.647773 0.000000e+00
       408   0.577204   3.529978  56.479656 0.000000e+00
       456   0.589093   3.541063  56.657014 0.000000e+00
       504   0.594193   3.447337  55.157397 0.000000e+00
       552   0.579952   3.480220  55.683526 0.000000e+00
       600   0.616133   3.505736  56.091770 0.000000e+00
       648   0.625263   3.481385  55.702163 0.000000e+00
       696   0.580375   3.485541  55.768659 0.000000e+00
       744   0.719227   3.435612  54.969787 0.000000e+00
       792   0.851483   3.500668  56.010687 0.000000e+00
       840   0.680240   3.485265  55.764234 0.000000e+00
       888   0.805092   3.478994  55.663900 0.000000e+00
       936   0.946178   3.466686  55.466977 0.000000e+00
       984   1.114635   3.419106  54.705691 0.000000e+00
      1032   0.656788   3.346907  53.550510 0.000000e+00
      1080   0.742790   3.391837  54.269397 0.000000e+00
      1128   0.855547   3.355163  53.682602 0.000000e+00
      1176   0.956652   3.400150  54.402401 0.000000e+00
      1224   1.081630   3.390749  54.251980 0.000000e+00
      1272   1.212347   3.395191  54.323059 0.000000e+00
      1320   1.351517   3.403534  54.456549 0.000000e+00
      1368   1.522588   3.362839  53.805416 0.000000e+00
      1416   1.672339   3.395436  54.326973 0.000000e+00
      1464   1.868588   3.358456  53.735293 0.000000e+00
      1512   2.032835   3.400817  54.413068 0.000000e+00
      1560   2.227592   3.408538  54.536615 0.000000e+00
      1608   2.474550   3.360406  53.766503 0.000000e+00
      1656   2.658179   3.416857  54.669712 0.000000e+00
      1704   2.951273   3.352968  53.647491 0.000000e+00
      1752   3.185099   3.376832  54.029307 0.000000e+00
      1800   3.429139   3.401437  54.422990 0.000000e+00
      1848   3.713384   3.399116  54.385857 0.000000e+00
      1896   4.002253   3.405967  54.495474 0.000000e+00
      1944   4.367708   3.364071  53.825139 0.000000e+00
      1992   4.696955   3.365748  53.851970 0.000000e+00
```

OpenMP with `8` threads and `BLOCK_SIZE=24`:

```
[vk2115@linserv1 hw2]$ ./MMult1 
 Dimension       Time    Gflop/s       GB/s        Error
        24   0.753430   2.654526  42.472424 0.000000e+00
        72   0.200770   9.964694 159.435110 0.000000e+00
       120   0.112602  17.770828 284.333247 0.000000e+00
       168   0.077645  25.770681 412.330902 0.000000e+00
       216   0.114937  17.536092 280.577470 0.000000e+00
       264   0.095792  21.128839 338.061416 0.000000e+00
       312   0.079974  25.064529 401.032472 0.000000e+00
       360   0.072596  28.277879 452.446067 0.000000e+00
       408   0.094619  21.533977 344.543639 0.000000e+00
       456   0.089447  23.321347 373.141559 0.000000e+00
       504   0.082686  24.772993 396.367888 0.000000e+00
       552   0.071706  28.147803 450.364842 0.000000e+00
       600   0.094363  22.890447 366.247146 0.000000e+00
       648   0.092444  23.547145 376.754316 0.000000e+00
       696   0.078440  25.789375 412.630002 0.000000e+00
       744   0.092707  26.653813 426.461009 0.000000e+00
       792   0.122631  24.306712 388.907384 0.000000e+00
       840   0.101296  23.404770 374.476313 0.000000e+00
       888   0.114347  24.494755 391.916076 0.000000e+00
       936   0.130615  25.112695 401.803114 0.000000e+00
       984   0.157258  24.234375 387.750007 0.000000e+00
      1032   0.101568  21.642779 346.284467 0.000000e+00
      1080   0.116954  21.541976 344.671624 0.000000e+00
      1128   0.127451  22.522420 360.358720 0.000000e+00
      1176   0.140691  23.119823 369.917174 0.000000e+00
      1224   0.177418  20.671763 330.748210 0.000000e+00
      1272   0.195280  21.078240 337.251832 0.000000e+00
      1320   0.209886  21.916321 350.661132 0.000000e+00
      1368   0.219662  23.309470 372.951520 0.000000e+00
      1416   0.268924  21.114919 337.838703 0.000000e+00
      1464   0.287813  21.804335 348.869353 0.000000e+00
      1512   0.307566  22.477468 359.639482 0.000000e+00
      1560   0.334067  22.728452 363.655228 0.000000e+00
      1608   0.405607  20.501351 328.021616 0.000000e+00
      1656   0.413557  21.962182 351.394907 0.000000e+00
      1704   0.438406  22.571579 361.145269 0.000000e+00
      1752   0.470610  22.854474 365.671587 0.000000e+00
      1800   0.536904  21.724564 347.593024 0.000000e+00
      1848   0.565793  22.308898 356.942371 0.000000e+00
      1896   0.605502  22.512794 360.204700 0.000000e+00
      1944   0.639710  22.968677 367.498824 0.000000e+00
      1992   0.723018  21.864958 349.839334 0.000000e+00
```